(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(t,e,o){t.exports=o(23)},19:function(t,e,o){},20:function(t,e,o){},23:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),i=o(11),r=o.n(i),l=(o(19),o(20),o(9)),s=o(8),c=o(1),u=o(2),d=o(4),p=o(3),m=o(12),f=o.n(m),h=function(t){Object(d.a)(o,t);var e=Object(p.a)(o);function o(){var t;Object(c.a)(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={inputValue:""},t.onChange=function(e){return t.setState({inputValue:e.target.value.replace(/[^\w\u0410-\u042f\u0430-\u044f\s]|^\s+$/g,"")})},t.onEnterDown=function(e){var o=t.props.addTodo;"Enter"===e.key&&(o({title:t.state.inputValue,id:f()(),completed:!1}),t.setState((function(t){return{inputValue:""}})))},t}return Object(u.a)(o,[{key:"render",value:function(){return n.a.createElement("header",{className:"header"},n.a.createElement("h1",null,"todos"),n.a.createElement("input",{onKeyDown:this.onEnterDown,onChange:this.onChange,value:this.state.inputValue,className:"new-todo",placeholder:"What needs to be done?"}))}}]),o}(n.a.Component),g=function(t){Object(d.a)(o,t);var e=Object(p.a)(o);function o(){var t;Object(c.a)(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={activeFilter:"All"},t.setActiveFilter=function(e){t.setState({activeFilter:e.target.id})},t}return Object(u.a)(o,[{key:"render",value:function(){return n.a.createElement("ul",{className:"filters"},n.a.createElement("li",null,n.a.createElement("a",{id:"All",onFocus:this.setActiveFilter,onClick:this.props.handleStatusChange,href:"#/",className:"All"===this.state.activeFilter?"selected":""},"All")),n.a.createElement("li",null,n.a.createElement("a",{id:"Active",onClick:this.props.handleStatusChange,onFocus:this.setActiveFilter,href:"#/active",className:"Active"===this.state.activeFilter?"selected":""},"Active")),n.a.createElement("li",null,n.a.createElement("a",{id:"Completed",onFocus:this.setActiveFilter,onClick:this.props.handleStatusChange,className:"Completed"===this.state.activeFilter?"selected":"",href:"#/completed"},"Completed")))}}]),o}(n.a.Component),v=function(t){var e=t.todoList,o=t.todoListCopy,a=t.getTodos,i=t.handleStatusChange;return n.a.createElement("footer",{className:e.length?"footer":"footer--hidden"},n.a.createElement("span",{className:"todo-count"},function(){var t=e.filter((function(t){return!1===t.completed})).length;return 0===t?"":"".concat(t,t>1?" items left":" item left")}()),n.a.createElement(g,{todoList:e,todoListCopy:o,getTodos:a,handleStatusChange:i}),n.a.createElement("button",{onClick:function(t){t.preventDefault();var n=e.filter((function(t){return!1===t.completed})),i=o.filter((function(t){return!1===t.completed}));a(n,i)},type:"button",className:"clear-completed"},"Clear completed"))},C=o(13),y=o(6),L=o.n(y),E=(L.a.shape({id:L.a.string,title:L.a.string,completed:L.a.bool}),function(t){var e=Object(a.useState)(!1),o=Object(C.a)(e,2),i=o[0],r=o[1],l=t.todoList,s=t.todo,c=t.changeTodo;return n.a.createElement("li",{className:s.completed?"completed":"",key:s.id},n.a.createElement("div",{className:"view "},n.a.createElement("input",{checked:s.completed,type:"checkbox",className:"toggle",id:s.id,onChange:function(e){var o=e.target.id,a=t.todoList.map((function(t){var e=t;return e.id===o&&(e.completed=!t.completed),e}));t.getTodos(a,a)}}),n.a.createElement("label",{onDoubleClick:function(){return r(!0)}},s.title),n.a.createElement("button",{type:"button",className:"destroy",onClick:function(e){var o=e.target.parentElement.firstElementChild.id,a=l.filter((function(t){return t.id!==o})),n=t.todoList.filter((function(t){return t.id!==o}));t.getTodos(a,n)}})),n.a.createElement("input",{ref:function(t){return t&&t.focus()},type:"text",id:s.id,className:i?"editing":"edit",onKeyDown:function(e){return function(e){var o=e.target.value;if("Enter"===e.key){if(""===o){var a=e.target.id,n=l.filter((function(t){return t.id!==a})),i=t.todoList.filter((function(t){return t.id!==a}));t.getTodos(n,i)}r(!1)}}(e)},onBlur:function(e){return function(e){if(""===e.target.value){var o=e.target.id,a=l.filter((function(t){return t.id!==o})),n=t.todoListCopy.filter((function(t){return t.id!==o}));t.getTodos(a,n)}r(!1)}(e)},onChange:function(t){return c(t,s.id)},value:s.title}))}),b=function(t){return n.a.createElement("ul",{className:"todo-list"},t.todoListCopy.map((function(e){return n.a.createElement(E,Object.assign({},t,{todo:e,key:e.id}))})))},S=function(t){return n.a.createElement("section",{className:"main"},n.a.createElement("input",{onChange:t.toogleAllTodosStatus,type:"checkbox",id:"toggle-all",className:"toggle-all"}),n.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),n.a.createElement(b,t))},T=function(t){Object(d.a)(o,t);var e=Object(p.a)(o);function o(){var t;Object(c.a)(this,o);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={todoList:[],todoListCopy:[],viewStatus:"All"},t.status=function(e){switch(t.state.viewStatus){case"All":return!0;case"Active":return!e.completed;case"Completed":return e.completed;default:return!0}},t.handleStatusChange=function(e){var o=e.target.id;t.setState({viewStatus:o})},t.addTodo=function(e){e.title.length&&(localStorage.setItem("todoList",JSON.stringify([].concat(Object(s.a)(t.state.todoList),[e]))),t.setState((function(t){return{todoList:[].concat(Object(s.a)(t.todoList),[e]),todoListCopy:[].concat(Object(s.a)(t.todoListCopy),[e])}})))},t.changeTodo=function(e,o){var a=e.target.value,n=t.state.todoList.map((function(t){return t.id===o?Object(l.a)(Object(l.a)({},t),{},{title:a}):t}));t.getTodos(n,n)},t.toogleAllTodosStatus=function(){t.setState((function(t){if(t.todoList.some((function(t){return!1===t.completed}))){var e=t.todoList.map((function(t){var e=t;return e.completed=!0,e}));return{todolist:e,todoListCopy:e}}var o=t.todoList.map((function(t){var e=t;return e.completed=!1,e}));return{todolist:o,todoListCopy:o}}))},t.getTodos=function(e,o){return t.setState({todoListCopy:o,todoList:e})},t}return Object(u.a)(o,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("todoList"));t&&this.setState({todoList:t,todoListCopy:t})}},{key:"componentDidUpdate",value:function(t){this.state.todoList!==t.todoList&&localStorage.setItem("todoList",JSON.stringify(this.state.todoList))}},{key:"render",value:function(){return n.a.createElement("section",{className:"todoapp"},n.a.createElement(h,{addTodo:this.addTodo}),n.a.createElement(S,{todoList:this.state.todoList,todoListCopy:this.state.todoListCopy.filter(this.status),toogleAllTodosStatus:this.toogleAllTodosStatus,getTodos:this.getTodos,changeTodo:this.changeTodo}),n.a.createElement(v,{todoList:this.state.todoList,todoListCopy:this.state.todoListCopy,getTodos:this.getTodos,handleStatusChange:this.handleStatusChange}))}}]),o}(n.a.Component);r.a.render(n.a.createElement(T,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a5beb0d8.chunk.js.map